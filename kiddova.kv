#:import Factory kivy.factory.Factory

<SetTime@Popup>:
    auto_dismiss: False
    size_hint: (0.7, 0.3)
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

    title: 'Set Alarm'
    FloatLayout:
        size: root.width, root.height
        spacing: 10
        TextInput:
            id: time
            hint_text: 'Enter time (HH:MM)'
            size_hint: (0.8, 0.3)
            pos_hint: {'x': 0.1, 'y': 0.5}
            multiline: False
        Button:
            text: 'Set Alarm'
            size_hint: (0.3, 0.2)
            pos_hint: {'x': 0.35, 'y': 0.2}
            on_press: app.set_alarm(time.text)
            on_release: root.dismiss()

<MyLayout>
    FloatLayout:
        size: root.width, root.height


        Label:
            text: 'KiddoVA Alarm App'
            font_size: 25
            size_hint: (0.3, 0.3)
            pos_hint: {'x': 0.34, 'top': 1.1}

        RoundedButton:
            text: '+'
            font_size: 32
            size_hint: (0.2, 0.1)
            pos_hint: {'x': 0.70, 'top': 0.15}
            on_release: Factory.SetTime().open()

<RoundedButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ''
    canvas.before:
        Color:
            rgba: (0.2, 0.2, 0.2, 1)
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [15]
